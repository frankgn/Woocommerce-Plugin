!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(a){return t(e,a)}):"object"==typeof exports?t(e,require("jquery")):t(e,e.jQuery||e.Zepto)}(this,function(e,t){"use strict";function a(e){if(w&&"none"===e.css("animation-name")&&"none"===e.css("-webkit-animation-name")&&"none"===e.css("-moz-animation-name")&&"none"===e.css("-o-animation-name")&&"none"===e.css("-ms-animation-name"))return 0;var t,a,o,r,n=e.css("animation-duration")||e.css("-webkit-animation-duration")||e.css("-moz-animation-duration")||e.css("-o-animation-duration")||e.css("-ms-animation-duration")||"0s",i=e.css("animation-delay")||e.css("-webkit-animation-delay")||e.css("-moz-animation-delay")||e.css("-o-animation-delay")||e.css("-ms-animation-delay")||"0s",s=e.css("animation-iteration-count")||e.css("-webkit-animation-iteration-count")||e.css("-moz-animation-iteration-count")||e.css("-o-animation-iteration-count")||e.css("-ms-animation-iteration-count")||"1";for(n=n.split(", "),i=i.split(", "),s=s.split(", "),r=0,a=n.length,t=Number.NEGATIVE_INFINITY;a>r;r++)o=parseFloat(n[r])*parseInt(s[r],10)+parseFloat(i[r]),o>t&&(t=o);return o}function o(){if(t(document.body).height()<=t(window).height())return 0;var e,a,o=document.createElement("div"),r=document.createElement("div");return o.style.visibility="hidden",o.style.width="100px",document.body.appendChild(o),e=o.offsetWidth,o.style.overflow="scroll",r.style.width="100%",o.appendChild(r),a=r.offsetWidth,o.parentNode.removeChild(o),e-a}function r(){var e,a,r=t("html"),n=c("is-locked");r.hasClass(n)||(a=t(document.body),e=parseInt(a.css("padding-right"),10)+o(),a.css("padding-right",e+"px"),r.addClass(n))}function n(){var e,a,r=t("html"),n=c("is-locked");r.hasClass(n)&&(a=t(document.body),e=parseInt(a.css("padding-right"),10)-o(),a.css("padding-right",e+"px"),r.removeClass(n))}function i(e,t,a,o){var r=c("is",t),n=[c("is",b.CLOSING),c("is",b.OPENING),c("is",b.CLOSED),c("is",b.OPENED)].join(" ");e.$bg.removeClass(n).addClass(r),e.$overlay.removeClass(n).addClass(r),e.$wrapper.removeClass(n).addClass(r),e.$modal.removeClass(n).addClass(r),e.state=t,!a&&e.$modal.trigger({type:t,reason:o},[{reason:o}])}function s(e,o,r){var n=0,i=function(e){e.target===this&&n++},s=function(e){e.target===this&&0===--n&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){r[t].off(g+" "+y)}),o())};t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){r[t].on(g,i).on(y,s)}),e(),0===a(r.$bg)&&0===a(r.$overlay)&&0===a(r.$wrapper)&&0===a(r.$modal)&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){r[t].off(g+" "+y)}),o())}function l(e){e.state!==b.CLOSED&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(t,a){e[a].off(g+" "+y)}),e.$bg.removeClass(e.settings.modifier),e.$overlay.removeClass(e.settings.modifier).hide(),e.$wrapper.hide(),n(),i(e,b.CLOSED,!0))}function d(e){var t,a,o,r,n={};for(e=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,","),t=e.split(","),r=0,a=t.length;a>r;r++)t[r]=t[r].split(":"),o=t[r][1],("string"==typeof o||o instanceof String)&&(o="true"===o||("false"===o?!1:o)),("string"==typeof o||o instanceof String)&&(o=isNaN(o)?o:+o),n[t[r][0]]=o;return n}function c(){for(var e=h,t=0;t<arguments.length;++t)e+="-"+arguments[t];return e}function u(){var e,a,o=location.hash.replace("#","");if(o){try{a=t("[data-"+v+"-id="+o.replace(new RegExp("/","g"),"\\/")+"]")}catch(r){}a&&a.length&&(e=t[v].lookup[a.data(v)],e&&e.settings.hashTracking&&e.open())}else p&&p.state===b.OPENED&&p.settings.hashTracking&&p.close()}function f(e,a){var o=t(document.body),r=this;r.settings=t.extend({},_,a),r.index=t[v].lookup.push(r)-1,r.state=b.CLOSED,r.$overlay=t("."+c("overlay")),r.$overlay.length||(r.$overlay=t("<div>").addClass(c("overlay")+" "+c("is",b.CLOSED)).hide(),o.append(r.$overlay)),r.$bg=t("."+c("bg")).addClass(c("is",b.CLOSED)),r.$modal=e,r.$modal.addClass(h+" "+c("is-initialized")+" "+r.settings.modifier+" "+c("is",b.CLOSED)),r.$wrapper=t("<div>").addClass(c("wrapper")+" "+r.settings.modifier+" "+c("is",b.CLOSED)).hide().append(r.$modal),o.append(r.$wrapper),r.$wrapper.on("click."+h,"[data-"+v+'-action="close"]',function(e){e.preventDefault(),r.close()}),r.$wrapper.on("click."+h,"[data-"+v+'-action="cancel"]',function(e){e.preventDefault(),r.$modal.trigger(C.CANCELLATION),r.settings.closeOnCancel&&r.close(C.CANCELLATION)}),r.$wrapper.on("click."+h,"[data-"+v+'-action="confirm"]',function(e){e.preventDefault(),r.$modal.trigger(C.CONFIRMATION),r.settings.closeOnConfirm&&r.close(C.CONFIRMATION)}),r.$wrapper.on("click."+h,function(e){var a=t(e.target);a.hasClass(c("wrapper"))&&r.settings.closeOnOutsideClick&&r.close()})}var p,m,v="remodal",h=e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.NAMESPACE||v,g=t.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(e){return e+"."+h}).join(" "),y=t.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(e){return e+"."+h}).join(" "),_=t.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:""},e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.DEFAULTS),b={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},C={CONFIRMATION:"confirmation",CANCELLATION:"cancellation"},w=function(){var e=document.createElement("div").style;return void 0!==e.animationName||void 0!==e.WebkitAnimationName||void 0!==e.MozAnimationName||void 0!==e.msAnimationName||void 0!==e.OAnimationName}();f.prototype.open=function(){var e,a=this;a.state!==b.OPENING&&a.state!==b.CLOSING&&(e=a.$modal.attr("data-"+v+"-id"),e&&a.settings.hashTracking&&(m=t(window).scrollTop(),location.hash=e),p&&p!==a&&l(p),p=a,r(),a.$bg.addClass(a.settings.modifier),a.$overlay.addClass(a.settings.modifier).show(),a.$wrapper.show().scrollTop(0),s(function(){i(a,b.OPENING)},function(){i(a,b.OPENED)},a))},f.prototype.close=function(e){var a=this;a.state!==b.OPENING&&a.state!==b.CLOSING&&(a.settings.hashTracking&&a.$modal.attr("data-"+v+"-id")===location.hash.substr(1)&&(location.hash="",t(window).scrollTop(m)),s(function(){i(a,b.CLOSING,!1,e)},function(){a.$bg.removeClass(a.settings.modifier),a.$overlay.removeClass(a.settings.modifier).hide(),a.$wrapper.hide(),n(),i(a,b.CLOSED,!1,e)},a))},f.prototype.getState=function(){return this.state},f.prototype.destroy=function(){var e,a=t[v].lookup;l(this),this.$wrapper.remove(),delete a[this.index],e=t.grep(a,function(e){return!!e}).length,0===e&&(this.$overlay.remove(),this.$bg.removeClass(c("is",b.CLOSING)+" "+c("is",b.OPENING)+" "+c("is",b.CLOSED)+" "+c("is",b.OPENED)))},t[v]={lookup:[]},t.fn[v]=function(e){var a,o;return this.each(function(r,n){o=t(n),null==o.data(v)?(a=new f(o,e),o.data(v,a.index),a.settings.hashTracking&&o.attr("data-"+v+"-id")===location.hash.substr(1)&&a.open()):a=t[v].lookup[o.data(v)]}),a},t(document).ready(function(){t(document).on("click","[data-"+v+"-target]",function(e){e.preventDefault();var a=e.currentTarget,o=a.getAttribute("data-"+v+"-target"),r=t("[data-"+v+"-id="+o+"]");t[v].lookup[r.data(v)].open()}),t(document).find("."+h).each(function(e,a){var o=t(a),r=o.data(v+"-options");r?("string"==typeof r||r instanceof String)&&(r=d(r)):r={},o[v](r)}),t(document).on("keydown."+h,function(e){p&&p.settings.closeOnEscape&&p.state===b.OPENED&&27===e.keyCode&&p.close()}),t(window).on("hashchange."+h,u)})}),jQuery(document).ready(function(e){function t(t,a){switch(a){case 1:var o=0,r=e("#facturacom_settings").find("#apikey");0==r.val().length?(e("label[for='"+r.attr("id")+"']").addClass("input_error"),o=1):(e("label[for='"+r.attr("id")+"']").removeClass("input_error"),o=0);var n=e("#facturacom_settings").find("#apisecret");0==n.val().length?(e("label[for='"+n.attr("id")+"']").addClass("input_error"),o=1):(e("label[for='"+n.attr("id")+"']").removeClass("input_error"),o=0);var i=e("#facturacom_settings").find("#serie");0==i.val().length?(e("label[for='"+i.attr("id")+"']").addClass("input_error"),o=1):(e("label[for='"+i.attr("id")+"']").removeClass("input_error"),o=0);var s=e("#facturacom_settings").find("#dayoff");return 0==s.val().length?(e("label[for='"+s.attr("id")+"']").addClass("input_error"),o=1):(e("label[for='"+s.attr("id")+"']").removeClass("input_error"),o=0),o}}function a(t){2==t?(e("#f-step-two-form").trigger("reset"),e("#step-two").stop().hide(),e(".customer-data").css({"background-color":"#9B9B9B"}),e(".search-order").css({"background-color":"#942318"}),e("#step-one").stop().fadeIn("slow")):3==t&&(e("#step-three").stop().hide(),e(".verify-order").css({"background-color":"#9B9B9B"}),e(".customer-data").css({"background-color":"#9B9B9B"}),e(".search-order").css({"background-color":"#942318"}),e("#step-two").stop().fadeIn("slow"))}function o(t,a){e("#invoice-id").hide(),e("#invoice-date").hide(),e("#receptor-nombre").text(a.RazonSocial),e("#receptor-rfc").text(a.RFC),e("#receptor-direccion").text(a.Calle+" "+a.Numero+" "+a.Interior),e("#receptor-direccion-zone").text(a.Colonia+". CP: "+a.CodigoPostal),e("#receptor-direccion-zone-city").text(a.Ciudad+", "+a.Estado+", México."),e("#emisor-nombre").text("UNMANNED SYSTEMS S A P I DE CV"),e("#emisor-rfc").text("USY141002JX2"),e("#emisor-direccion").text("López Mateos 400 Int: Piso 8"),e("#emisor-direccion-zone").text("Ladrón de Guevara. CP: 44650"),e("#emisor-direccion-zone-city").text("Guadalajara, Jalisco, México.");for(var o=0,r=0,n=t.line_items,i=Number(t.total_discount),s=new Array,l=-1,d=0,c=n.length;c>d;d++)"free_shipping"!=n[d].product_id&&"local_delivery"!=n[d].product_id&&(0>=i?unit_price=Number(n[d].price/1.16):unit_price=Number(n[d].price),unit_subtotal=n[d].quantity*unit_price,s[++l]="<tr><td>",s[++l]=n[d].name,s[++l]="</td><td>",s[++l]=n[d].quantity,s[++l]="</td><td>",s[++l]=unit_price.formatMoney(2,".",","),s[++l]="</td><td>",s[++l]=unit_subtotal.formatMoney(2,".",","),s[++l]="</td></tr>",o=Number(o)+Number(unit_subtotal),r=Number(r)+Number(n[d].total_tax),unit_price=0);e("#datails-body").html(s.join(""));var u,f=Number(t.total),p=.16*f;u="paypal"==t.payment_details.method_id?"Pago con Tarjeta":"Depósito en Cuenta",i>0?(pre_total=Number((o-i)/1.16),p=Number(o-i-pre_total),total=Math.round(pre_total+p),console.log("pre_total: "+pre_total),e("#td-discount #invoice-discount").text(i.formatMoney(2,".",",")),e("#td-discount").css({display:"table-row"})):(p=.16*o,total=Math.round(o+p)),e("#invoice-pmethod").text(u),e("#invoice-subtotal").text(o.formatMoney(2,".",",")),e("#invoice-iva").text(p.formatMoney(2,".",",")),e("#invoice-total").text(total.formatMoney(2,".",","))}function r(t){e("#uid").val(t.UID),e("#general-nombre").val(t.Contacto.Nombre),e("#general-apellidos").val(t.Contacto.Apellidos),e("#general-email").val(t.Contacto.Email),e("#fiscal-rfc").val(t.RFC),e("#fiscal-nombre").val(t.RazonSocial),e("#fiscal-calle").val(t.Calle),e("#fiscal-exterior").val(t.Numero),e("#fiscal-interior").val(t.Interior),e("#fiscal-colonia").val(t.Colonia),e("#fiscal-delegacion").val(t.Delegacion),e("#fiscal-municipio").val(t.Ciudad),e("#fiscal-estado").val(t.Estado),e("#fiscal-pais").val("México"),e("#fiscal-cp").val(t.CodigoPostal),e("#fiscal-telefono").val(t.Contacto.Telefono),e("#step-two [type=input]").removeAttr("readonly")}function n(t){if(1==t){e("#general-nombre").removeAttr("readonly"),e("#general-apellidos").removeAttr("readonly"),e("#general-email").removeAttr("readonly"),e("#fiscal-rfc").removeAttr("readonly"),e("#fiscal-nombre").removeAttr("readonly"),e("#fiscal-calle").removeAttr("readonly"),e("#fiscal-exterior").removeAttr("readonly"),e("#fiscal-interior").removeAttr("readonly"),e("#fiscal-colonia").removeAttr("readonly"),e("#fiscal-ciudad").removeAttr("readonly"),e("#fiscal-delegacion").removeAttr("readonly"),e("#fiscal-municipio").removeAttr("readonly"),e("#fiscal-estado").removeAttr("readonly"),e("#fiscal-pais").removeAttr("readonly"),e("#fiscal-cp").removeAttr("readonly"),e("#fiscal-telefono").removeAttr("readonly"),e("#step-two-button-edit").val("Cancelar");var a=e("#f-step-two-form label[for]");a.css({"border-color":"#67BA2F"})}else{e("#general-nombre").attr("readonly","readonly"),e("#general-apellidos").attr("readonly","readonly"),e("#general-email").attr("readonly","readonly"),e("#fiscal-rfc").attr("readonly","readonly"),e("#fiscal-nombre").attr("readonly","readonly"),e("#fiscal-calle").attr("readonly","readonly"),e("#fiscal-exterior").attr("readonly","readonly"),e("#fiscal-interior").attr("readonly","readonly"),e("#fiscal-colonia").attr("readonly","readonly"),e("#fiscal-ciudad").attr("readonly","readonly"),e("#fiscal-delegacion").attr("readonly","readonly"),e("#fiscal-municipio").attr("readonly","readonly"),e("#fiscal-estado").attr("readonly","readonly"),e("#fiscal-pais").attr("readonly","readonly"),e("#fiscal-cp").attr("readonly","readonly"),e("#fiscal-telefono").attr("readonly","readonly"),e("#step-two-button-edit").val("Editar");var a=e("#f-step-two-form label[for]");a.css({"border-color":"#c2c2c2"})}}function i(t,a){if(1==a){var o=e("#f-rfc"),r=e("#f-num-order"),n=e("#f-email");if(0==o.val().length?(e("label[for='"+o.attr("id")+"']").addClass("input_error"),o.addClass("input_error")):(e("label[for='"+o.attr("id")+"']").removeClass("input_error"),o.removeClass("input_error")),0==r.val().length?(e("label[for='"+r.attr("id")+"']").addClass("input_error"),r.addClass("input_error")):(e("label[for='"+r.attr("id")+"']").removeClass("input_error"),r.removeClass("input_error")),0==n.val().length?(e("label[for='"+n.attr("id")+"']").addClass("input_error"),n.addClass("input_error")):(e("label[for='"+n.attr("id")+"']").removeClass("input_error"),n.removeClass("input_error")),o.val().length>13||o.val().length<12)return e("label[for='"+o.attr("id")+"']").addClass("input_error"),o.addClass("input_error"),!1;if(o.val().length>0&&r.val().length>0&&n.val().length>0)return o.removeClass("input_error"),r.removeClass("input_error"),n.removeClass("input_error"),e("label[for='"+o.attr("id")+"']").removeClass("input_error"),e("label[for='"+r.attr("id")+"']").removeClass("input_error"),e("label[for='"+n.attr("id")+"']").removeClass("input_error"),jQuery("#f-step-one-form .error_msj").text("").hide(),!0;jQuery("#f-step-one-form .error_msj").text("Por favor completa y/o corrige los datos.").show()}else if(2==a){var i=[];e("#f-step-two-form .f-input").each(function(){var t=e(this);"fiscal-delegacion"!=t.attr("id")&&"fiscal-interior"!=t.attr("id")&&(0==t.val().length?(e("label[for='"+t.attr("id")+"']").addClass("input_error"),t.addClass("input_error"),i.push("false")):(e("label[for='"+t.attr("id")+"']").removeClass("input_error"),t.removeClass("input_error"),i.push("true")))});var s=e.inArray("false",i);if(-1==s)return e("#f-step-two-form .error_msj").text("").hide(),!0;e("#f-step-two-form .error_msj").text("Por favor completa y/o corrige los datos.").show()}return!1}e("#facturacom_settings").length&&e("#send_settings").click(function(a){a.preventDefault(),e("#setting_loading").fadeIn("fast");var o=t(e(this),1);return 1==o?(e("#setting_loading").fadeOut("fast"),e("#submit_message").addClass("input_error").text("Algunos datos están incompletos. Por favor revise la configuración e intente de nuevo.").fadeIn("fast"),!1):(form_data=e("#facturacom_settings").serializeArray(),data={action:"save_config",apikey:form_data[0].value,apisecret:form_data[1].value,serie:form_data[2].value,dayoff:form_data[3].value,title:form_data[4].value,description:form_data[5].value},e.post(myAjax.ajaxurl,data,function(t){e("#setting_loading").fadeOut("fast"),e("#submit_message").removeClass("input_error").text("La configuración se ha guardado correctamente.").fadeIn("fast")}),!1)}),e(".send_invoice").unbind().on("click",function(t){t.preventDefault(),e(this).html("Enviando factura"),e(".send_invoice").attr("disabled",!0);var a=jQuery(this).attr("data-uid"),o={action:"send_invoice",uid:a};e.post(myAjax.ajaxurl,o,function(t){e(".send_invoice").attr("disabled",!1),alert(t.message)},"json")}),e(".cancel_invoice").unbind().on("click",function(t){t.preventDefault(),e(this).html("Cancelando"),e(".cancel_invoice").attr("disabled",!0);var a=e(this).attr("data-uid"),o={action:"cancel_invoice",uid:a};e.post(myAjax.ajaxurl,o,function(t){e(".send_invoice").attr("disabled",!1),alert(t)},"json")});var s;String.prototype.capitalize=function(){return this.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},Number.prototype.formatMoney=function(e,t,a){var o=this,e=isNaN(e=Math.abs(e))?2:e,t=void 0==t?".":t,a=void 0==a?",":a,r=0>o?"-":"",n=parseInt(o=Math.abs(+o||0).toFixed(e))+"",i=(i=n.length)>3?i%3:0;return r+(i?n.substr(0,i)+a:"")+n.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+a)+(e?t+Math.abs(o-n).toFixed(e).slice(2):"")},e(".input-cap").on("input",function(t){var a=e(this),o=a[0].selectionStart;e(this).val(function(e,t){return t.capitalize()}),a[0].selectionStart=a[0].selectionEnd=o}),e(".input-upper").on("input",function(t){var a=e(this),o=a[0].selectionStart;e(this).val(function(e,t){return t.toUpperCase()}),a[0].selectionStart=a[0].selectionEnd=o}),e("#f-rfc").bind("keypress",function(e){var t=e.keyCode||e.which;if(!(8==t||t>=35&&40>=t)){var a=new RegExp("^[a-zA-Z0-9]+$"),o=String.fromCharCode(e.charCode?e.charCode:e.which);return a.test(o)?void 0:(e.preventDefault(),!1)}}),e("#step-two-button-edit").click(function(t){t.preventDefault();var a=e(this).attr("data-b");1==a?(n(!0),e(this).attr("data-b",0),e("#f-step-two-form #apimethod").val("update"),e("#step-two-button-next").val("Actualizar")):(r(s),n(!1),e(this).attr("data-b",1),e("#f-step-two-form #apimethod").val("create"),e("#step-two-button-next").val("Siguiente"))}),e(".f-back").click(function(t){t.preventDefault();var o=e(this).attr("data-f");a(o)}),e("#f-step-one-form").submit(function(t){return t.preventDefault(),i(e(this),1)?(e(".f-welcome-container").fadeOut("fast"),e("#step-one .loader_content").show(),form_data=e(this).serializeArray(),data={action:"step_one",csrf:form_data[0].value,rfc:form_data[1].value,order:form_data[2].value,email:form_data[3].value},e.post(myAjax.ajaxurl,data,function(t){if(e("#step-one .loader_content").hide(),!t.success){var a=e("[data-remodal-id=respuesta-paso-uno]").remodal();return e("#message-response-one").text(t.message),a.open(),!1}s=t.customer,e("#f-step-two-form").children("#fiscal-rfc").val(s.rfc),s?r(s):(e("#step-two-button-edit").hide(),n(!0)),e("#step-one").stop().hide(),e("#step-two").stop().fadeIn("slow")},"json"),!1):!1}),e("#f-step-two-form").submit(function(t){return t.preventDefault(),e("#step-two .loader_content").show(),i(e(this),2)?(form_data=e(this).serializeArray(),data={action:"create_client",csrf:form_data[0].value,api_method:form_data[1].value,uid:form_data[2].value,g_nombre:form_data[3].value,g_apellidos:form_data[4].value,g_email:form_data[5].value,f_telefono:form_data[6].value,f_nombre:form_data[7].value,f_rfc:form_data[8].value,f_calle:form_data[9].value,f_exterior:form_data[10].value,f_interior:form_data[11].value,f_colonia:form_data[12].value,f_municipio:form_data[13].value,f_estado:form_data[14].value,f_pais:form_data[15].value,f_cp:form_data[16].value},void e.post(myAjax.ajaxurl,data,function(t){e("#step-two .loader_content").hide();var a=t.customer,r=t.order;if(t.success)o(r,a),e("#step-two").stop().hide(),e("#step-three").stop().fadeIn("slow");else{var n=e("[data-remodal-id=respuesta-paso-dos]").remodal();e("#message-response-dos").text(t.message),n.open()}},"json")):(e("#step-two .loader_content").hide(),!1)}),e("#step-three-button-next").click(function(t){t.preventDefault(),e("#step-three .loader_content").show();var a=e("#select-payment option:selected").val(),o=e("#select-payment option:selected").text();if(0==a){e("#step-three .loader_content").hide();var r=e("[data-remodal-id=respuesta-paso-dos]").remodal();return e("#message-response-dos").text("Por favor selecciona un método de pago."),r.open(),!1}var n=e("#f-num-cta").val();if((4==a||5==a)&&""==n){e("#step-three .loader_content").hide();var r=e("[data-remodal-id=respuesta-paso-dos]").remodal();return e("#message-response-dos").text("Por favor ingresa los últimos 4 dígitos de tu cuenta o tarjeta."),r.open(),!1}data={action:"generate_invoice",payment_m:a,payment_t:o,num_cta_m:n},e.post(myAjax.ajaxurl,data,function(t){e("#step-three").stop().hide(),e("#step-three .loader_content").hide(),console.log(t),"success"==t.invoice.status?(e("#btn-success-pdf").stop().show().attr("href","http://devfactura.in/api/publica/invoice/"+t.invoice.invoice_uid+"/pdf"),e("#btn-success-xml").stop().show().attr("href","http://devfactura.in/api/publica/invoice/"+t.invoice.invoice_uid+"/xml")):(e("#result-msg-title").text(t.invoice.message),e("#btn-success-pdf").stop().hide(),e("#btn-success-xml").stop().hide()),e("#step-four").stop().fadeIn("slow")},"json")}),e("#select-payment").change(function(){var t=e("#select-payment option:selected").val();4==t||5==t?e("#num-cta-box").fadeIn("fast"):e("#num-cta-box").fadeOut("fast")})});
